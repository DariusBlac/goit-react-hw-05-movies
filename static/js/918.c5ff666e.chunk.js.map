{"version":3,"file":"static/js/918.c5ff666e.chunk.js","mappings":"mMACA,EAAuB,mBAAvB,EAAiD,mB,SCGpCA,EAAO,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,SAClBC,GAAaC,EAAAA,EAAAA,MAAbD,SAER,OACE,eAAIE,UAAWC,EAAf,SACGL,EAAIM,KAAI,SAAAC,GAAE,OACT,eAAgBH,UAAWC,EAA3B,UACE,UAAC,KAAD,CACEG,GAAiB,YAAbN,EAAA,UAA4BK,EAAGE,IAA/B,iBAAgDF,EAAGE,IACvDC,MAAOT,EAFT,WAIE,gBACEU,IACEJ,EAAGK,YAAH,yCACsCL,EAAGK,aACrCC,EAENC,IAAKP,EAAGQ,eACRC,MAAO,IACPC,OAAQ,OAEV,wBAAKV,EAAGQ,qBAfHR,EAAGE,GADH,KAsBhB,C,+LC9BKS,EAAS,mBACTC,EACJ,6NAEIC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPJ,OAAAA,EACAC,cAAAA,IAISI,EAAgB,mCAAG,uGACPC,EAAAA,EAAAA,GACrB,mEACAJ,GAH4B,uBACtBK,EADsB,EACtBA,KADsB,kBAKvBA,GALuB,2CAAH,qDAQhBC,EAAmB,mCAAG,WAAMC,GAAN,0FACVH,EAAAA,EAAAA,GAAM,4CAA6C,CACxEI,OAAQ,CAAEC,cAAe,QAASC,SAAU,QAASC,KAAM,IAAKJ,MAAAA,GAChEL,QAAS,CACPJ,OAAAA,EACAC,cAAAA,KAL6B,uBACzBM,EADyB,EACzBA,KADyB,kBAS1BA,GAT0B,2CAAH,sDAYnBO,EAAgB,mCAAG,WAAMvB,GAAN,0FACPe,EAAAA,EAAAA,GAAM,sCAAD,OAAuCf,GAAM,CACvEmB,OAAQ,CAAEE,SAAU,SACpBR,QAAS,CACPJ,OAAAA,EACAC,cAAAA,KAL0B,uBACtBM,EADsB,EACtBA,KADsB,kBASvBA,GATuB,2CAAH,sDAYhBQ,EAAmB,mCAAG,WAAMxB,GAAN,0FACVe,EAAAA,EAAAA,GAAM,sCAAD,OACYf,EADZ,YAE1B,CACEmB,OAAQ,CAAEE,SAAU,QAASC,KAAM,KACnCT,QAAS,CACPJ,OAAAA,EACAC,cAAAA,KAP2B,uBACzBM,EADyB,EACzBA,KADyB,kBAY1BA,GAZ0B,2CAAH,sDAenBS,EAAkB,mCAAG,WAAMzB,GAAN,0FACTe,EAAAA,EAAAA,GAAM,sCAAD,OACYf,EADZ,YAE1B,CACEmB,OAAQ,CAAEE,SAAU,SACpBR,QAAS,CACPJ,OAAAA,EACAC,cAAAA,KAP0B,uBACxBM,EADwB,EACxBA,KADwB,kBAYzBA,GAZyB,2CAAH,qD,oHC3D/B,EAAuB,mBAAvB,EAAmD,qBAAnD,EAAuF,2BAAvF,EAA0H,oB,SCE7GU,EAAO,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACrB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAUA,OACE,kBAAMnC,UAAWC,EAAUmC,SANR,SAAAC,GACnBA,EAAMC,iBACNN,EAASE,EACV,EAGC,WACE,mBAAQK,KAAK,SAASvC,UAAWC,EAAjC,UACE,iBAAMD,UAAWC,OAGnB,kBACEuC,SAfgB,SAAAH,GACpBF,EAASE,EAAMI,OAAOP,MACvB,EAcKlC,UAAWC,EACXsC,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,UAAQ,EACRC,YAAY,oBAInB,E,kCC9BD,EAA0B,wBAA1B,EAA4D,wBC8C5D,EAxCe,WACb,OAAkCZ,EAAAA,EAAAA,WAAS,GAA3C,eAAOa,EAAP,KAAkBC,EAAlB,KACA,GAA8Bd,EAAAA,EAAAA,WAAS,GAAvC,eAAOe,EAAP,KAAgBC,EAAhB,KACA,GAAkChB,EAAAA,EAAAA,UAAS,IAA3C,eAAOiB,EAAP,KAAkBC,EAAlB,KACA,GAAsCC,EAAAA,EAAAA,IAAgB,IAAtD,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAcF,EAAYG,IAAI,SAE9B3D,GAAWE,EAAAA,EAAAA,MAMX0D,GAAqBC,EAAAA,EAAAA,cAAW,iBAAC,6FACrCX,GAAa,GADwB,mBAGTzB,EAAAA,EAAAA,IAAoBiC,GAHX,gBAG3BI,EAH2B,EAG3BA,QACRR,EAAaQ,GAJsB,gDAMnCV,GAAW,GANwB,yBAQnCF,GAAa,GARsB,4EAUpC,CAACQ,IAOJ,OALAK,EAAAA,EAAAA,YAAU,WACHL,GACLE,GACD,GAAE,CAACF,EAAaE,KAGf,qBAASzD,UAAWC,EAApB,WACE,SAAC8B,EAAD,CAAMC,SAvBa,SAAAE,GACrBoB,EAAe,CAAE/B,MAAOW,GACzB,IAsBIY,IAAa,gBAAK9C,UAAWC,EAAhB,wBACb+C,IAAW,uCACXE,IAAa,SAACvD,EAAA,EAAD,CAAMC,IAAKsD,EAAWrD,SAAUA,MAGnD,C","sources":["webpack://react-homework-template/./src/components/List/List.module.css?2bcc","components/List/List.jsx","helpers/api.js","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"List_list__AK7hC\",\"item\":\"List_item__WqTbr\"};","import { Link, useLocation } from 'react-router-dom';\nimport plug from '../../images/plug.png';\nimport css from './List.module.css';\n\nexport const List = ({ arr, location }) => {\n  const { pathname } = useLocation();\n\n  return (\n    <ul className={css.list}>\n      {arr.map(el => (\n        <li key={el.id} className={css.item}>\n          <Link\n            to={pathname === '/movies' ? `${el.id}` : `movies/${el.id}`}\n            state={location}\n          >\n            <img\n              src={\n                el.poster_path\n                  ? `https://image.tmdb.org/t/p/w200${el.poster_path}`\n                  : plug\n              }\n              alt={el.original_title}\n              width={200}\n              height={300}\n            />\n            <h3>{el.original_title}</h3>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import axios from 'axios';\nconst accept = 'application/json';\nconst Authorization =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYjIwOWFkYWM0MmMyODFlZDBmMWNjZmMyNTBmNzk5MSIsInN1YiI6IjY1MWE5OGYwOTY3Y2M3MzQyNjA5ZTc2MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.m93T8ZMpr2fyuroo_6h3P7kuR8Mgd_ssuYjfehMO0ko';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept,\n    Authorization,\n  },\n};\n\nexport const getPopularMovies = async () => {\n  const { data } = await axios(\n    'https://api.themoviedb.org/3/movie/popular?language=en-US&page=1',\n    options\n  );\n  return data;\n};\n\nexport const searchMoviesByQuery = async query => {\n  const { data } = await axios('https://api.themoviedb.org/3/search/movie', {\n    params: { include_adult: 'false', language: 'en-US', page: '1', query },\n    headers: {\n      accept,\n      Authorization,\n    },\n  });\n\n  return data;\n};\n\nexport const searchMoviesById = async id => {\n  const { data } = await axios(`https://api.themoviedb.org/3/movie/${id}`, {\n    params: { language: 'en-US' },\n    headers: {\n      accept,\n      Authorization,\n    },\n  });\n\n  return data;\n};\n\nexport const searchMoviesReviews = async id => {\n  const { data } = await axios(\n    `https://api.themoviedb.org/3/movie/${id}/reviews`,\n    {\n      params: { language: 'en-US', page: '1' },\n      headers: {\n        accept,\n        Authorization,\n      },\n    }\n  );\n\n  return data;\n};\n\nexport const searchMoviesActors = async id => {\n  const { data } = await axios(\n    `https://api.themoviedb.org/3/movie/${id}/credits`,\n    {\n      params: { language: 'en-US' },\n      headers: {\n        accept,\n        Authorization,\n      },\n    }\n  );\n\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__e1yzW\",\"button\":\"Form_button__8NOIT\",\"button_label\":\"Form_button_label__2zNtq\",\"input\":\"Form_input__FTtTw\"};","import { useState } from 'react';\nimport css from './Form.module.css';\n\nexport const Form = ({ setQuery }) => {\n  const [value, setValue] = useState('');\n\n  const handlerChange = event => {\n    setValue(event.target.value);\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    setQuery(value);\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={css.button}>\n        <span className={css.button_label}></span>\n      </button>\n\n      <input\n        onChange={handlerChange}\n        className={css.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        required\n        placeholder=\"Search movies\"\n      />\n    </form>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loading\":\"Movies_loading__sAADI\",\"section\":\"Movies_section__bjPDA\"};","import { Form } from 'components/Form/Form';\nimport { List } from 'components/List/List';\nimport { searchMoviesByQuery } from 'helpers/api';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [arrMovies, setArrMovies] = useState([]);\n  const [searchParam, setSearchParam] = useSearchParams('');\n  const searchValue = searchParam.get('query');\n\n  const location = useLocation();\n\n  const setQueryMovies = value => {\n    setSearchParam({ query: value });\n  };\n\n  const fetchMoviesByQuery = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const { results } = await searchMoviesByQuery(searchValue);\n      setArrMovies(results);\n    } catch (error) {\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [searchValue]);\n\n  useEffect(() => {\n    if (!searchValue) return;\n    fetchMoviesByQuery();\n  }, [searchValue, fetchMoviesByQuery]);\n\n  return (\n    <section className={css.section}>\n      <Form setQuery={setQueryMovies} />\n      {isLoading && <div className={css.loading}>Loading...</div>}\n      {isError && <div>Try later</div>}\n      {arrMovies && <List arr={arrMovies} location={location} />}\n    </section>\n  );\n};\n\nexport default Movies;\n"],"names":["List","arr","location","pathname","useLocation","className","css","map","el","to","id","state","src","poster_path","plug","alt","original_title","width","height","accept","Authorization","options","method","headers","getPopularMovies","axios","data","searchMoviesByQuery","query","params","include_adult","language","page","searchMoviesById","searchMoviesReviews","searchMoviesActors","Form","setQuery","useState","value","setValue","onSubmit","event","preventDefault","type","onChange","target","autoComplete","autoFocus","required","placeholder","isLoading","setIsLoading","isError","setIsError","arrMovies","setArrMovies","useSearchParams","searchParam","setSearchParam","searchValue","get","fetchMoviesByQuery","useCallback","results","useEffect"],"sourceRoot":""}