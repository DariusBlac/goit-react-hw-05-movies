"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[531],{436:function(e,t,r){r.d(t,{Dw:function(){return h},Hj:function(){return l},_L:function(){return p},b3:function(){return f},vl:function(){return d}});var n=r(861),a=r(757),c=r.n(a),i=r(243),s="application/json",u="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYjIwOWFkYWM0MmMyODFlZDBmMWNjZmMyNTBmNzk5MSIsInN1YiI6IjY1MWE5OGYwOTY3Y2M3MzQyNjA5ZTc2MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.m93T8ZMpr2fyuroo_6h3P7kuR8Mgd_ssuYjfehMO0ko",o={method:"GET",headers:{accept:s,Authorization:u}},p=function(){var e=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",o);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("https://api.themoviedb.org/3/search/movie",{params:{include_adult:"false",language:"en-US",page:"1",query:t},headers:{accept:s,Authorization:u}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("https://api.themoviedb.org/3/movie/".concat(t),{params:{language:"en-US"},headers:{accept:s,Authorization:u}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("https://api.themoviedb.org/3/movie/".concat(t,"/reviews"),{params:{language:"en-US",page:"1"},headers:{accept:s,Authorization:u}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("https://api.themoviedb.org/3/movie/".concat(t,"/credits"),{params:{language:"en-US"},headers:{accept:s,Authorization:u}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},531:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(861),a=r(439),c=r(757),i=r.n(c),s=r(613),u=r(184),o=function(e){var t=e.movie,r=t.original_title,n=t.poster_path,a=t.release_date,c=t.overview,i=t.genres,o=t.vote_average;return(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w400".concat(n):s,alt:r}),(0,u.jsx)("h2",{children:"".concat(r," (").concat(a,")")}),(0,u.jsxs)("p",{children:["User Score: ",o]}),(0,u.jsx)("h3",{children:"Overview"}),(0,u.jsx)("p",{children:c}),(0,u.jsx)("h3",{children:"Genres"}),(0,u.jsx)("p",{children:i.map((function(e){return e.name})).join(" ")})]})},p=r(436),h=r(791),d=r(689),l=r(87),f=function(){var e=(0,h.useState)(null),t=(0,a.Z)(e,2),r=t[0],c=t[1],s=(0,h.useState)(!1),f=(0,a.Z)(s,2),v=f[0],m=f[1],x=(0,h.useState)(!1),j=(0,a.Z)(x,2),g=j[0],w=j[1],b=(0,d.UO)().movieId,k=(0,d.s0)(),Z=(0,d.TH)(),y=(0,h.useCallback)((0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,(0,p.vl)(b);case 4:t=e.sent,c(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),w(!0),console.log(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),[b]);(0,h.useEffect)((function(){y()}),[y]);return(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:function(){Z.state?k(Z.state):k("/")},children:"Go back"}),r&&(0,u.jsx)(o,{movie:r}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"Additional information"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(l.rU,{to:"reviews",state:Z.state,children:"Reviews"})}),(0,u.jsx)("li",{children:(0,u.jsx)(l.rU,{to:"cast",state:Z.state,children:"Cast"})})]})]}),v&&(0,u.jsx)("div",{children:"Loading..."}),g&&(0,u.jsx)("div",{children:"Try later"}),(0,u.jsx)(h.Suspense,{children:(0,u.jsx)(d.j3,{})})]})}},613:function(e,t,r){e.exports=r.p+"static/media/plug.323f7926900997de8c34.png"}}]);
//# sourceMappingURL=531.47941ff0.chunk.js.map